{"version":3,"sources":["webpack:///./src/views/cita/citarPaciente.vue?c25d","webpack:///src/views/cita/citarPaciente.vue","webpack:///./src/views/cita/citarPaciente.vue?bb19","webpack:///./src/views/cita/citarPaciente.vue","webpack:///./src/components/cite/navCite.vue?5cfe","webpack:///src/components/cite/navCite.vue","webpack:///./src/components/cite/navCite.vue?eb2e","webpack:///./src/components/cite/navCite.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","save","attrs","_v","directives","name","rawName","value","paciente","expression","modifiers","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","_n","$set","multiple","_l","key","domProps","id","_s","nombre","apellido","medico","especialidad","descripcion","composing","motivo","staticRenderFns","data","allPatients","allMedics","fechaCita","sortBy","sortDesc","sortDirection","currentPage","totalRows","methods","e","preventDefault","onFiltered","filteredItems","length","computed","sortOptions","columns","mounted","findAllMedics","findAllPatients","components","navCite","Footer","component"],"mappings":"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","file":"js/citarPaciente.71abd392.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('navCite'),_c('div',{staticClass:\"container bg-light\"},[_vm._m(0),_vm._m(1),_c('form',{on:{\"submit\":_vm.save}},[_c('div',{staticClass:\"form-row p-5\"},[_c('div',{staticClass:\"col-md-4\"},[_c('label',{attrs:{\"for\":\"paciente\"}},[_vm._v(\"Pacientes\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.paciente.id),expression:\"paciente.id\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"paciente\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.$set(_vm.paciente, \"id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"--Seleccione--\")]),_vm._l((_vm.allPatients),function(value,key){return _c('option',{key:key,domProps:{\"value\":value.id}},[_vm._v(_vm._s(value.nombre)+\" \"+_vm._s(value.apellido))])})],2)]),_c('div',{staticClass:\"col-md-4\"},[_c('label',{attrs:{\"for\":\"medicos\"}},[_vm._v(\"Médicos\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.medico.id),expression:\"medico.id\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"medicos\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return _vm._n(val)}); _vm.$set(_vm.medico, \"id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"--Seleccione--\")]),_vm._l((_vm.allMedics),function(value,key){return _c('option',{key:key,domProps:{\"value\":value.id}},[_vm._v(_vm._s(value.nombre)+\" \"+_vm._s(value.apellido)+\" - \"+_vm._s(value.especialidad.descripcion))])})],2)]),_c('div',{staticClass:\"col-md-4\"},[_c('label',{attrs:{\"for\":\"motivo\"}},[_vm._v(\"Motivo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.motivo),expression:\"motivo\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Motivo\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.motivo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.motivo=$event.target.value}}})])]),_vm._m(2)])]),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"text-center text-dark p-5\"},[_c('b',[_vm._v(\"Registro de Cita\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"text-center text-dark\"},[_c('b',[_vm._v(\"Llene el siguiente formulario\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-row p-5\"},[_c('button',{staticClass:\"btn btn-primary\"},[_vm._v(\"Registrar\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <navCite/>\r\n    <div class=\"container bg-light\">\r\n      <h1 class=\"text-center text-dark p-5\">\r\n        <b>Registro de Cita</b>\r\n      </h1>\r\n      <h5 class=\"text-center text-dark\"><b>Llene el siguiente formulario</b></h5>\r\n      <form @submit=\"save\">\r\n        <div class=\"form-row p-5\">\r\n          <div class=\"col-md-4\">\r\n            <label for=\"paciente\">Pacientes</label>\r\n            <select class=\"form-control\" id=\"paciente\" v-model.number=\"paciente.id\" required>\r\n              <option disabled value>--Seleccione--</option>\r\n              <option\r\n                v-for=\"(value,key) in allPatients\"\r\n                :key=\"key\"\r\n                :value=\"value.id\"\r\n              >{{value.nombre}} {{value.apellido}}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <label for=\"medicos\">Médicos</label>\r\n            <select class=\"form-control\" id=\"medicos\" v-model.number=\"medico.id\" required>\r\n              <option disabled value>--Seleccione--</option>\r\n              <option\r\n                v-for=\"(value,key) in allMedics\"\r\n                :key=\"key\"\r\n                :value=\"value.id\"\r\n              >{{value.nombre}} {{value.apellido}} - {{value.especialidad.descripcion}}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-4\">\r\n            <label for=\"motivo\">Motivo</label>\r\n            <input class=\"form-control\" placeholder=\"Motivo\" v-model=\"motivo\" type=\"text\" required>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-row p-5\">\r\n          <button class=\"btn btn-primary\">Registrar</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <Footer/>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { URL, bootbox } from \"@/variables.js\";\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\nimport axios from \"axios\";\r\nimport navCite from \"@/components/cite/navCite.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nexport default {\r\n  name: \"citarPaciente\",\r\n  data() {\r\n    return {\r\n      medico: {\r\n        id: null\r\n      },\r\n      paciente: {\r\n        id: null\r\n      },\r\n      allPatients: [],\r\n      allMedics: [],\r\n      motivo: null,\r\n      fechaCita: null,\r\n      sortBy: null,\r\n      sortDesc: false,\r\n      sortDirection: \"asc\",\r\n      filter: null,\r\n      currentPage: 1,\r\n      totalRows: null\r\n    };\r\n  },\r\n  methods: {\r\n    async findAllPatients() {\r\n      axios\r\n        .get(`${URL}/api/pacientes`)\r\n        .then(response => {\r\n          this.allPatients = response.data;\r\n          this.allPatients = this.allPatients.filter(patients => {\r\n            if (patients.estaRegistrado === false) {\r\n              return true;\r\n            }\r\n          });\r\n        })\r\n        .catch(error => console.log(error.message));\r\n    },\r\n    async findAllMedics() {\r\n      axios\r\n        .get(`${URL}/api/medicos`)\r\n        .then(response => (this.allMedics = response.data))\r\n        .catch(error => console.log(error));\r\n    },\r\n    save(e) {\r\n      e.preventDefault();\r\n      axios\r\n        .post(`${URL}/api/cita`, {\r\n          paciente: this.paciente,\r\n          medico: this.medico,\r\n          motivo: this.motivo,\r\n          fechaCita: new Date()\r\n        })\r\n        .then(response => {\r\n          (this.paciente = {}),\r\n            (this.medico = {}),\r\n            (this.motivo = null),\r\n            (this.fechaCita = null),\r\n            bootbox.alert({\r\n              title: \"Correcto\",\r\n              message: response.data.mensaje,\r\n              locale: \"es\",\r\n              backdrop: true,\r\n              callback: this.$router.push(\"/citas\")\r\n            });\r\n        })\r\n        .catch(error => {\r\n          if (error.response.status === 404) {\r\n            bootbox.alert({\r\n              title: \"Error\",\r\n              message: error.response.data.mensaje,\r\n              locale: \"es\",\r\n              backdrop: true\r\n            });\r\n            console.log(error);\r\n          }\r\n          if (error.response.status === 409) {\r\n            bootbox.alert({\r\n              title: \"Error\",\r\n              message: error.response.data.mensaje,\r\n              locale: \"es\",\r\n              backdrop: true\r\n            });\r\n            console.log(error);\r\n          }\r\n          if (error.response.status === 500) {\r\n            bootbox.alert({\r\n              title: \"Error\",\r\n              message: 'Especifique el motivo',\r\n              locale: \"es\",\r\n              backdrop: true\r\n            });\r\n            console.log(error);\r\n          }\r\n        });\r\n    },\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    }\r\n  },\r\n  computed: {\r\n    sortOptions() {\r\n      return this.columns\r\n        .filter(f => f.sortable)\r\n        .map(f => {\r\n          return {\r\n            text: f.label,\r\n            value: f.key\r\n          };\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.findAllMedics();\r\n    this.findAllPatients();\r\n  },\r\n  components: {\r\n    navCite,\r\n    Footer\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citarPaciente.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citarPaciente.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./citarPaciente.vue?vue&type=template&id=39b8712a&\"\nimport script from \"./citarPaciente.vue?vue&type=script&lang=js&\"\nexport * from \"./citarPaciente.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-nav',{staticClass:\"bg-light\",attrs:{\"tabs\":\"\"}},[_c('b-nav-item',{attrs:{\"exact-active-class\":\"active\",\"to\":{name:'citas'}}},[_vm._v(\"Todos los Registros\")]),_c('b-nav-item',{attrs:{\"exact-active-class\":\"active\",\"to\":{name:'citarPaciente'}}},[_vm._v(\"Registrar\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-nav tabs class=\"bg-light\">\r\n    <b-nav-item exact-active-class=\"active\" :to=\"{name:'citas'}\">Todos los Registros</b-nav-item>\r\n    <b-nav-item exact-active-class=\"active\" :to=\"{name:'citarPaciente'}\">Registrar</b-nav-item>\r\n  </b-nav>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"navCite\"\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navCite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./navCite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navCite.vue?vue&type=template&id=27e60d9c&\"\nimport script from \"./navCite.vue?vue&type=script&lang=js&\"\nexport * from \"./navCite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}