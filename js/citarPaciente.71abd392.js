(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["citarPaciente"],{6418:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("navCite"),a("div",{staticClass:"container bg-light"},[e._m(0),e._m(1),a("form",{on:{submit:e.save}},[a("div",{staticClass:"form-row p-5"},[a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"paciente"}},[e._v("Pacientes")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:e.paciente.id,expression:"paciente.id",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"paciente",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var a="_value"in t?t._value:t.value;return e._n(a)}));e.$set(e.paciente,"id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("--Seleccione--")]),e._l(e.allPatients,(function(t,n){return a("option",{key:n,domProps:{value:t.id}},[e._v(e._s(t.nombre)+" "+e._s(t.apellido))])}))],2)]),a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"medicos"}},[e._v("MÃ©dicos")]),a("select",{directives:[{name:"model",rawName:"v-model.number",value:e.medico.id,expression:"medico.id",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"medicos",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var a="_value"in t?t._value:t.value;return e._n(a)}));e.$set(e.medico,"id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("--Seleccione--")]),e._l(e.allMedics,(function(t,n){return a("option",{key:n,domProps:{value:t.id}},[e._v(e._s(t.nombre)+" "+e._s(t.apellido)+" - "+e._s(t.especialidad.descripcion))])}))],2)]),a("div",{staticClass:"col-md-4"},[a("label",{attrs:{for:"motivo"}},[e._v("Motivo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.motivo,expression:"motivo"}],staticClass:"form-control",attrs:{placeholder:"Motivo",type:"text",required:""},domProps:{value:e.motivo},on:{input:function(t){t.target.composing||(e.motivo=t.target.value)}}})])]),e._m(2)])]),a("Footer")],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"text-center text-dark p-5"},[a("b",[e._v("Registro de Cita")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h5",{staticClass:"text-center text-dark"},[a("b",[e._v("Llene el siguiente formulario")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-row p-5"},[a("button",{staticClass:"btn btn-primary"},[e._v("Registrar")])])}],r=(a("4de4"),a("d81d"),a("96cf"),a("1da1")),o=a("7eac"),s=(a("f9e3"),a("2dd8"),a("bc3a")),c=a.n(s),l=a("abf2"),u=a("fd2d"),d={name:"citarPaciente",data:function(){return{medico:{id:null},paciente:{id:null},allPatients:[],allMedics:[],motivo:null,fechaCita:null,sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,currentPage:1,totalRows:null}},methods:{findAllPatients:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.a.get("".concat(o["a"],"/api/pacientes")).then((function(e){t.allPatients=e.data,t.allPatients=t.allPatients.filter((function(e){if(!1===e.estaRegistrado)return!0}))})).catch((function(e){return console.log(e.message)}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),findAllMedics:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.a.get("".concat(o["a"],"/api/medicos")).then((function(e){return t.allMedics=e.data})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),save:function(e){var t=this;e.preventDefault(),c.a.post("".concat(o["a"],"/api/cita"),{paciente:this.paciente,medico:this.medico,motivo:this.motivo,fechaCita:new Date}).then((function(e){t.paciente={},t.medico={},t.motivo=null,t.fechaCita=null,o["b"].alert({title:"Correcto",message:e.data.mensaje,locale:"es",backdrop:!0,callback:t.$router.push("/citas")})})).catch((function(e){404===e.response.status&&(o["b"].alert({title:"Error",message:e.response.data.mensaje,locale:"es",backdrop:!0}),console.log(e)),409===e.response.status&&(o["b"].alert({title:"Error",message:e.response.data.mensaje,locale:"es",backdrop:!0}),console.log(e)),500===e.response.status&&(o["b"].alert({title:"Error",message:"Especifique el motivo",locale:"es",backdrop:!0}),console.log(e))}))},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},computed:{sortOptions:function(){return this.columns.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},mounted:function(){this.findAllMedics(),this.findAllPatients()},components:{navCite:l["a"],Footer:u["a"]}},m=d,v=a("2877"),p=Object(v["a"])(m,n,i,!1,null,null,null);t["default"]=p.exports},abf2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-nav",{staticClass:"bg-light",attrs:{tabs:""}},[a("b-nav-item",{attrs:{"exact-active-class":"active",to:{name:"citas"}}},[e._v("Todos los Registros")]),a("b-nav-item",{attrs:{"exact-active-class":"active",to:{name:"citarPaciente"}}},[e._v("Registrar")])],1)},i=[],r={name:"navCite"},o=r,s=a("2877"),c=Object(s["a"])(o,n,i,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=citarPaciente.71abd392.js.map